import{_ as D,r as v,u as b,s as k,b as C,x as N,d as x,c as r,e as o,t as d,h as B,F as M,j as F,N as f,l as I,o as l}from"./index-Cjm7IUtJ.js";import{c as L}from"./device-YL3MxchV.js";import{g}from"./index-CEJ9UQZg.js";const $={class:"g-content"},j={class:"search g-row-left b-white"},S={class:"g-row-left"},U={key:0},V={key:1},E={class:"scroll"},H={class:"g-row-left"},P={class:"m-t-5 c66 f12"},R={__name:"locations",props:{sn:{type:Number,default:0}},setup(_){const m=v([]),i=v(!1),h=b(),{storeUser:w}=k(h),y=C(()=>w.value.id),a=N({elderId:y.value,sn:_.sn,startTime:"",endTime:""}),u=e=>{var s=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,t=e.getDate()<10?"0"+e.getDate():e.getDate();return s+"-"+n+"-"+t},T=e=>{const[s,n]=e,t="".concat(u(s)),c="".concat(u(n));a.startTime=t,a.endTime=c,i.value=!1,p()},p=()=>{f.start(),L(a).then(e=>{m.value=e.data}).finally(()=>{f.done()})};return x(()=>{a.startTime=g(new Date,-2),a.endTime=g(new Date,0),p()}),(e,s)=>{const n=I("van-calendar");return l(),r("div",$,[o("div",j,[o("div",S,[o("div",{class:"fs0 g-row-left dates",onClick:s[0]||(s[0]=t=>i.value=!0)},[a.endTime?(l(),r("span",U,d(a.startTime)+"至"+d(a.endTime),1)):(l(),r("span",V," 查询时间 ")),s[2]||(s[2]=o("span",{class:"iconfont icon-arrdown m-l-5"},null,-1))])]),B(n,{show:i.value,"onUpdate:show":s[1]||(s[1]=t=>i.value=t),type:"range",onConfirm:T,"switch-mode":"mouth","default-date":null},null,8,["show"])]),o("div",E,[(l(!0),r(M,null,F(m.value,(t,c)=>(l(),r("div",{class:"shadow-card",key:c},[o("div",H,[s[3]||(s[3]=o("img",{class:"m-r-5",src:"https://mhjy-public.obs.cn-south-1.myhuaweicloud.com:443/position.png"},null,-1)),o("span",null,d(t.address),1)]),o("div",P,d(t.timeBegin),1)]))),128))])])}}},A=D(R,[["__scopeId","data-v-a0b35eed"]]);export{A as default};
