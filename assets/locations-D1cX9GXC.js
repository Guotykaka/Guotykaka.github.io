import{_ as D,r as v,u as k,s as b,a as C,x as N,b as x,c as r,d as o,t as d,g as B,F as M,h as F,N as g,k as I,o as l}from"./index-CxIGT_a7.js";import{c as L}from"./device-smEP7nMh.js";import{g as f}from"./index-DJjI7DKN.js";const $={class:"g-content"},S={class:"search g-row-left b-white"},U={class:"g-row-left"},V={key:0},j={key:1},E={class:"scroll"},H={class:"g-row-left"},P={class:"m-t-5 c66 f12"},R={__name:"locations",props:{sn:{type:Number,default:0}},setup(_){const m=v([]),i=v(!1),h=k(),{storeUser:w}=b(h),y=C(()=>w.value.id),a=N({elderId:y.value,sn:_.sn,startTime:"",endTime:""}),u=e=>{var s=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,t=e.getDate()<10?"0"+e.getDate():e.getDate();return s+"-"+n+"-"+t},T=e=>{const[s,n]=e,t=`${u(s)}`,c=`${u(n)}`;a.startTime=t,a.endTime=c,i.value=!1,p()},p=()=>{g.start(),L(a).then(e=>{m.value=e.data}).finally(()=>{g.done()})};return x(()=>{a.startTime=f(new Date,-2),a.endTime=f(new Date,0),p()}),(e,s)=>{const n=I("van-calendar");return l(),r("div",$,[o("div",S,[o("div",U,[o("div",{class:"fs0 g-row-left dates",onClick:s[0]||(s[0]=t=>i.value=!0)},[a.endTime?(l(),r("span",V,d(a.startTime)+"至"+d(a.endTime),1)):(l(),r("span",j," 查询时间 ")),s[2]||(s[2]=o("span",{class:"iconfont icon-arrdown m-l-5"},null,-1))])]),B(n,{show:i.value,"onUpdate:show":s[1]||(s[1]=t=>i.value=t),type:"range",onConfirm:T,"switch-mode":"mouth","default-date":null},null,8,["show"])]),o("div",E,[(l(!0),r(M,null,F(m.value,(t,c)=>(l(),r("div",{class:"shadow-card",key:c},[o("div",H,[s[3]||(s[3]=o("img",{class:"m-r-5",src:"https://mhjy-public.obs.cn-south-1.myhuaweicloud.com:443/position.png"},null,-1)),o("span",null,d(t.address),1)]),o("div",P,d(t.timeBegin),1)]))),128))])])}}},A=D(R,[["__scopeId","data-v-a0b35eed"]]);export{A as default};
